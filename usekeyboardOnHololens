using UnityEngine;
using UnityEngine.UI;
using UnityEngine.InputSystem.Composites;

public class Input_Activator : MonoBehaviour
{
    private TouchScreenKeyboard keyboard;
    private InputField inputField;
    private bool isKeyboardOpen = false;

    void Start()
    {
        inputField = GetComponent<InputField>();
    }

    public void OpenKeyboard()
    {
        if (!isKeyboardOpen)
        {
            keyboard = TouchScreenKeyboard.Open("", TouchScreenKeyboardType.Default);
            isKeyboardOpen = true;
        }
    }

    public void CloseKeyboard()
    {
        if (isKeyboardOpen)
        {
            isKeyboardOpen = false;
            keyboard = null;
        }
    }

    void Update()
    {
        if (inputField != null && inputField.isFocused && !isKeyboardOpen)
        {
            OpenKeyboard();
        }
        else if (inputField != null && inputField.isActiveAndEnabled && keyboard != null)
        {
            CloseKeyboard();
        }

        if (keyboard != null && keyboard.status == TouchScreenKeyboard.Status.Visible)
        {
            inputField.text = keyboard.text;
        }
    }
}
